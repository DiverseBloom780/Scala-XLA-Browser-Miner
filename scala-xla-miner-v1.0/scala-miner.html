<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CryptoTab-Style Scala XLA Miner</title>
  <style>
    /* --- same CSS as you provided --- */
    body { font-family: system-ui, Arial, sans-serif; margin:0; background:#0f1220; color:#e8eefc; }
    .cryptotab-header { position:sticky; top:0; background:#151939; border-bottom:1px solid #273057; z-index:10; }
    .header-content { max-width:1000px; margin:0 auto; padding:14px 16px; display:flex; justify-content:space-between; align-items:center; }
    .logo { font-weight:700; letter-spacing:.2px; }
    .mining-toggle { display:flex; gap:12px; align-items:center; opacity:.4; transition:opacity .2s; }
    .toggle-switch { width:54px; height:28px; background:#2a3568; border-radius:999px; padding:3px; box-shadow: inset 0 0 0 1px #31407a; cursor:pointer; }
    .toggle-switch .toggle-slider { width:22px; height:22px; background:#a7b5f5; border-radius:999px; transform: translateX(0); transition: transform .2s, background .2s; }
    .toggle-switch.active { background:#1d7c3a; box-shadow: inset 0 0 0 1px #209848; }
    .toggle-switch.active .toggle-slider { transform: translateX(26px); background:#eafff0; }
    .container { max-width:1000px; margin:24px auto; padding:0 16px; }
    .feature-highlight { background:#111633; border:1px solid #273057; border-radius:12px; padding:16px; margin-bottom:16px; }
    .mining-dashboard { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
    @media (max-width:900px){ .mining-dashboard { grid-template-columns:1fr; } }
    .dashboard-card { background:#111633; border:1px solid #273057; border-radius:12px; padding:16px; }
    .card-title { font-weight:700; margin-bottom:12px; }
    .earnings-display { display:flex; align-items:baseline; gap:12px; margin-bottom:8px; }
    .earnings-amount { font-size:28px; font-weight:800; }
    .mining-status { display:flex; align-items:center; gap:10px; margin:10px 0; padding:8px 10px; border-radius:8px; border:1px solid #273057; }
    .mining-status .status-indicator { width:10px; height:10px; border-radius:999px; background:#6a728f; }
    .mining-status.active .status-indicator { background:#1ef074; box-shadow:0 0 12px #1ef074aa; }
    .stats-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:10px; }
    @media (max-width:700px){ .stats-grid { grid-template-columns:repeat(2,1fr); } }
    .stat-item { background:#0f1430; border:1px solid #25305d; border-radius:10px; padding:10px; }
    .stat-value { font-weight:700; }
    .wallet-setup .input-group { display:flex; flex-direction:column; gap:6px; margin-bottom:10px; }
    input, select { background:#0f1430; color:#e8eefc; border:1px solid #273057; border-radius:8px; padding:10px; width:100%; outline:none; }
    .btn { padding:10px 14px; border-radius:8px; border:1px solid #273057; background:#182050; color:#e8eefc; cursor:pointer; }
    .btn-primary { background:#1f3bb3; border-color:#2e4ae0; }
    .intensity-control { margin-top:14px; }
    .intensity-slider { width:100%; }
    .intensity-labels { display:flex; justify-content:space-between; font-size:12px; color:#a5b0de; margin-top:6px; }
    .log-container { height:180px; overflow:auto; background:#0e1230; border:1px solid #273057; border-radius:10px; padding:10px; font-family: ui-monospace, monospace; }
    .log-entry { font-size:12px; line-height:1.35; color:#bfc8f1; }
    .log-entry.success { color:#a6f7c5; }
    .log-entry.error { color:#ff9aa6; }
    .log-entry.warning { color:#ffe09a; }
    .cryptotab-branding { text-align:center; color:#9aa6df; opacity:.7; margin:18px 0; }
    .controls { display:flex; gap:10px; margin:18px 0; }
  </style>
</head>

<body>
  <!-- HEADER -->
  <div class="cryptotab-header">
    <div class="header-content">
      <div class="logo">CryptoTab-Style Scala Miner</div>
      <div class="mining-toggle">
        <span>Background Mining</span>
        <div class="toggle-switch" id="miningToggle" onclick="toggleBackgroundMining()">
          <div class="toggle-slider"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- MAIN CONTAINER -->
  <div class="container">
    <div class="feature-highlight">
      <h4>üöÄ CryptoTab-Style Mining Experience</h4>
      <p>Mine Scala (XLA) cryptocurrency in the background while browsing. Powered by the efficient Panthera algorithm.</p>
    </div>

    <!-- DASHBOARD -->
    <div class="mining-dashboard">
      <div class="dashboard-card">
        <div class="card-title">üí∞ Mining Dashboard</div>
        <div class="earnings-display">
          <div class="earnings-amount" id="totalEarnings">0.000000</div>
          <div class="earnings-label">XLA Earned This Session</div>
        </div>
        <div class="mining-status inactive" id="miningStatus">
          <div class="status-indicator"></div>
          <span>Mining Inactive</span>
        </div>
        <div class="stats-grid">
          <div class="stat-item"><div class="stat-value" id="hashRate">0</div><div class="stat-label">Hash/sec</div></div>
          <div class="stat-item"><div class="stat-value" id="totalHashes">0</div><div class="stat-label">Total Hashes</div></div>
          <div class="stat-item"><div class="stat-value" id="sharesFound">0</div><div class="stat-label">Shares Found</div></div>
          <div class="stat-item"><div class="stat-value" id="uptime">00:00:00</div><div class="stat-label">Session Time</div></div>
        </div>
      </div>

      <!-- CONFIG -->
      <div class="dashboard-card">
        <div class="card-title">‚öôÔ∏è Mining Configuration</div>
        <div class="wallet-setup">
          <div class="input-group">
            <label for="walletAddress">Scala (XLA) Wallet Address</label>
            <input id="walletAddress" placeholder="Enter your XLA wallet address (95 characters)" />
          </div>
          <div class="input-group">
            <label for="poolSelect">Mining Pool</label>
            <select id="poolSelect">
              <option value="scalaproject_low">Scala Official Pool (Low Diff)</option>
<option value="scalaproject_mid">Scala Official Pool (Mid Diff)</option>
<option value="scalaproject_high">Scala Official Pool (High Diff)</option>
<option value="scalaproject_solo">Scala Official Pool (Solo)</option>
            </select>
          </div>
          <button class="btn btn-primary" id="setupBtn" onclick="setupMining()">Setup Mining</button>
        </div>

        <div class="intensity-control">
          <label>Mining Intensity: <span id="intensityValue">50</span>%</label>
          <input id="intensitySlider" class="intensity-slider" type="range" min="10" max="100" value="50" onchange="updateIntensity(this.value)" />
          <div class="intensity-labels">
            <span>Low (10%)</span><span>Medium (50%)</span><span>High (100%)</span>
          </div>
        </div>

        <div class="stats-grid">
          <div class="stat-item"><div class="stat-value" id="poolStatus">Disconnected</div><div class="stat-label">Pool Status</div></div>
          <div class="stat-item"><div class="stat-value" id="difficulty">0</div><div class="stat-label">Difficulty</div></div>
          <div class="stat-item"><div class="stat-value" id="blockHeight">0</div><div class="stat-label">Block Height</div></div>
          <div class="stat-item"><div class="stat-value" id="algorithm">Panthera</div><div class="stat-label">Algorithm</div></div>
        </div>
      </div>
    </div>

    <!-- ACTIVITY LOG -->
    <div class="dashboard-card">
      <div class="card-title">üìä Mining Activity Log</div>
      <div class="log-container" id="miningLog">
        <div class="log-entry info">Scala XLA WebAssembly Miner initialized</div>
        <div class="log-entry info">Panthera algorithm support loaded</div>
        <div class="log-entry info">Ready for CryptoTab-style background mining</div>
      </div>
    </div>

    <!-- BRANDING -->
    <div class="cryptotab-branding">
      <p>üîó Powered by WebAssembly ‚Ä¢ Scala (XLA) Network ‚Ä¢ Panthera Algorithm</p>
      <p>Experience seamless background mining like CryptoTab Browser</p>
    </div>
  </div>

  <!-- CONTROLS -->
  <div class="controls">
    <button onclick="setupMining()">Start Mining</button>
    <button onclick="stopMining()">Stop Mining</button>
  </div>

  <!-- ‚úÖ Inline Script -->
  <script>
    let isBackgroundMining = false;
    let miningStats = { startTime:null };
    let statsUpdateInterval = null;

    function addLog(message, type="info") {
      const log = document.getElementById("miningLog");
      if (!log) return;
      const time = new Date().toLocaleTimeString();
      const entry = document.createElement("div");
      entry.className = `log-entry ${type}`;
      entry.textContent = `[${time}] ${message}`;
      log.appendChild(entry);
      log.scrollTop = log.scrollHeight;
      if (log.children.length > 200) log.removeChild(log.firstChild);
    }

    function setupMining() {
      const wallet = document.getElementById("walletAddress").value.trim();
      const pool = document.getElementById("poolSelect").value;
      if (!wallet) return addLog("Please enter a Scala (XLA) wallet address","error");
      if (wallet.length < 90 || wallet.length > 106) {
        addLog("‚ö†Ô∏è Wallet address looks unusual (length " + wallet.length + ")", "warning");
      }
      if (!pool) return addLog("Please select a mining pool","error");
      addLog(`Connecting to ${pool} pool with wallet: ${wallet}`, "info");
      document.getElementById("poolStatus").textContent = "Connecting";
      document.getElementById("miningToggle").style.opacity = "1";
    }

    function toggleBackgroundMining() {
      const t = document.getElementById("miningToggle");
      if (!document.getElementById("walletAddress").value.trim()) {
        return addLog("Please setup mining configuration first","error");
      }
      isBackgroundMining = !isBackgroundMining;
      if (isBackgroundMining) {
        t.classList.add("active");
        startStatsUpdates();
        updateMiningStatus(true);
        addLog("Background mining started (CryptoTab style)", "success");
      } else {
        t.classList.remove("active");
        stopMining();
      }
    }

    function updateIntensity(val) {
      document.getElementById("intensityValue").textContent = val;
      addLog(`Mining intensity set to ${val}%`, "info");
    }

    function updateMiningStatus(active) {
      const e = document.getElementById("miningStatus");
      if (active) {
        e.className = "mining-status active";
        e.innerHTML = '<div class="status-indicator"></div><span>Mining Active</span>';
        miningStats.startTime = Date.now();
      } else {
        e.className = "mining-status inactive";
        e.innerHTML = '<div class="status-indicator"></div><span>Mining Inactive</span>';
      }
    }

    function startStatsUpdates() { if (!statsUpdateInterval) statsUpdateInterval = setInterval(updateMiningStats, 1000); }
    function stopStatsUpdates() { if (statsUpdateInterval) { clearInterval(statsUpdateInterval); statsUpdateInterval = null; } }

    function updateMiningStats() {
      if (!isBackgroundMining) return;
      const elapsed = Math.floor((Date.now() - miningStats.startTime) / 1000);
      const h = Math.floor(elapsed / 3600),
            m = Math.floor((elapsed % 3600) / 60),
            s = elapsed % 60;
      document.getElementById("uptime").textContent =
        `${h.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;
    }

    function stopMining() {
      stopStatsUpdates();
      updateMiningStatus(false);
      addLog("‚èπ Mining stopped", "warning");
      if (window.scalaMiner && window.scalaMiner.poolConnector) {
        window.scalaMiner.poolConnector.disconnect();
        addLog("Disconnected from pool", "info");
      }
      isBackgroundMining = false;
    }

    document.addEventListener("DOMContentLoaded", () => {
      addLog("CryptoTab-style Scala miner interface loaded", "info");
    });
  </script>

 <!-- Load miner logic -->
<script src="scala-miner.js" async></script>
</body>
</html>
